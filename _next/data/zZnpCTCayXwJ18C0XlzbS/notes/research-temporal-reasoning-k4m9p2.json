{"pageProps":{"note":{"id":"research-temporal-reasoning-k4m9p2","title":"Research - LLM Temporal Reasoning Failures","desc":"","updated":1737100800000,"created":1737100800000,"custom":{},"fname":"research.temporal-reasoning","type":"note","vault":{"fsPath":"vault"},"contentHash":"b58ed96dad3e6b6db949db518e48c029","links":[],"anchors":{"llm-temporal-reasoning-failures":{"type":"header","text":"LLM Temporal Reasoning Failures","value":"llm-temporal-reasoning-failures","line":8,"column":0,"depth":1},"hook":{"type":"header","text":"Hook","value":"hook","line":12,"column":0,"depth":2},"prior-art":{"type":"header","text":"Prior Art","value":"prior-art","line":16,"column":0,"depth":2},"gap--contribution":{"type":"header","text":"Gap / Contribution","value":"gap--contribution","line":22,"column":0,"depth":2},"research-questions":{"type":"header","text":"Research Questions","value":"research-questions","line":29,"column":0,"depth":2},"test-categories":{"type":"header","text":"Test Categories","value":"test-categories","line":40,"column":0,"depth":2},"category-1-simple-day-of-week":{"type":"header","text":"Category 1: Simple Day-of-Week","value":"category-1-simple-day-of-week","line":42,"column":0,"depth":3},"category-2-relative-date-calculation":{"type":"header","text":"Category 2: Relative Date Calculation","value":"category-2-relative-date-calculation","line":47,"column":0,"depth":3},"category-3-day-date-consistency-the-coach-vayu-bug":{"type":"header","text":"Category 3: Day-Date Consistency (the Coach Vayu bug)","value":"category-3-day-date-consistency-the-coach-vayu-bug","line":52,"column":0,"depth":3},"category-4-duration-and-counting":{"type":"header","text":"Category 4: Duration and Counting","value":"category-4-duration-and-counting","line":57,"column":0,"depth":3},"category-5-edge-cases":{"type":"header","text":"Category 5: Edge Cases","value":"category-5-edge-cases","line":62,"column":0,"depth":3},"interventions-to-test":{"type":"header","text":"Interventions to Test","value":"interventions-to-test","line":67,"column":0,"depth":2},"a-baseline":{"type":"header","text":"A. Baseline","value":"a-baseline","line":69,"column":0,"depth":3},"b-explicit-today-context":{"type":"header","text":"B. Explicit Today Context","value":"b-explicit-today-context","line":72,"column":0,"depth":3},"c-calendar-context":{"type":"header","text":"C. Calendar Context","value":"c-calendar-context","line":75,"column":0,"depth":3},"d-chain-of-thought-prompt":{"type":"header","text":"D. Chain-of-Thought Prompt","value":"d-chain-of-thought-prompt","line":84,"column":0,"depth":3},"e-tool-access":{"type":"header","text":"E. Tool Access","value":"e-tool-access","line":87,"column":0,"depth":3},"f-few-shot-examples":{"type":"header","text":"F. Few-Shot Examples","value":"f-few-shot-examples","line":90,"column":0,"depth":3},"models-to-test":{"type":"header","text":"Models to Test","value":"models-to-test","line":93,"column":0,"depth":2},"metrics":{"type":"header","text":"Metrics","value":"metrics","line":103,"column":0,"depth":2},"methodology":{"type":"header","text":"Methodology","value":"methodology","line":110,"column":0,"depth":2},"output-format":{"type":"header","text":"Output Format","value":"output-format","line":119,"column":0,"depth":2},"practical-recommendations-hypotheses":{"type":"header","text":"Practical Recommendations (hypotheses)","value":"practical-recommendations-hypotheses","line":130,"column":0,"depth":2},"timeline":{"type":"header","text":"Timeline","value":"timeline","line":138,"column":0,"depth":2},"why-this-gets-attention":{"type":"header","text":"Why This Gets Attention","value":"why-this-gets-attention","line":150,"column":0,"depth":2},"why-this-gets-you-hired":{"type":"header","text":"Why This Gets You Hired","value":"why-this-gets-you-hired","line":158,"column":0,"depth":2}},"children":[],"parent":"71jowrrvmteaz6vmk3ljq0z","data":{}},"body":"<h1 id=\"research---llm-temporal-reasoning-failures\">Research - LLM Temporal Reasoning Failures<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#research---llm-temporal-reasoning-failures\"></a></h1>\n<h1 id=\"llm-temporal-reasoning-failures\">LLM Temporal Reasoning Failures<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#llm-temporal-reasoning-failures\"></a></h1>\n<p>Side project idea: Study when/why LLMs mess up dates and days, test interventions.</p>\n<h2 id=\"hook\">Hook<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hook\"></a></h2>\n<p>\"Your AI assistant probably can't tell you what day January 17th is. Here's why, and how to fix it.\"</p>\n<h2 id=\"prior-art\">Prior Art<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#prior-art\"></a></h2>\n<ul>\n<li><strong>Test of Time (ToT)</strong> - ICLR 2025. Off-by-one errors are most common (~21% of GPT-4 errors exactly 1 day off)</li>\n<li><strong>DATETIME benchmark</strong> - Even trivial tasks show poor performance</li>\n<li><strong>TIME benchmark</strong> - Real-world temporal reasoning</li>\n</ul>\n<h2 id=\"gap--contribution\">Gap / Contribution<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gap--contribution\"></a></h2>\n<p>Existing work = benchmarks. Missing:</p>\n<ol>\n<li>Day-of-week ↔ date mismatch specifically</li>\n<li>Intervention testing (what actually fixes it?)</li>\n<li>Practical recommendations for developers</li>\n</ol>\n<h2 id=\"research-questions\">Research Questions<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#research-questions\"></a></h2>\n<ol>\n<li>How often do models get day-of-week wrong for a given date?</li>\n<li>Does the error rate change for near dates vs far dates?</li>\n<li>Do planning tasks (multi-day, multi-week) compound errors?</li>\n<li>Which interventions help?\n<ul>\n<li>Explicit date context</li>\n<li>Chain-of-thought</li>\n<li>Calendar tool access</li>\n<li>Few-shot examples</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"test-categories\">Test Categories<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#test-categories\"></a></h2>\n<h3 id=\"category-1-simple-day-of-week\">Category 1: Simple Day-of-Week<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#category-1-simple-day-of-week\"></a></h3>\n<ul>\n<li>\"What day of the week is January 17, 2026?\"</li>\n<li>\"What day of the week is March 3, 2026?\"</li>\n<li>\"What day of the week was December 25, 2025?\"</li>\n</ul>\n<h3 id=\"category-2-relative-date-calculation\">Category 2: Relative Date Calculation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#category-2-relative-date-calculation\"></a></h3>\n<ul>\n<li>\"If today is Saturday January 17, what date is next Wednesday?\"</li>\n<li>\"What's the date 10 days from January 17, 2026?\"</li>\n<li>\"If today is Thursday, and the date is January 15, what was last Monday's date?\"</li>\n</ul>\n<h3 id=\"category-3-day-date-consistency-the-coach-vayu-bug\">Category 3: Day-Date Consistency (the Coach Vayu bug)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#category-3-day-date-consistency-the-coach-vayu-bug\"></a></h3>\n<ul>\n<li>\"Create a workout plan for Monday, Wednesday, Friday starting January 20, 2026. Include the dates.\"</li>\n<li>\"Schedule meetings for every Tuesday in February 2026. List all dates.\"</li>\n<li>\"Plan a 4-week training program starting January 20. Show each day with its date.\"</li>\n</ul>\n<h3 id=\"category-4-duration-and-counting\">Category 4: Duration and Counting<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#category-4-duration-and-counting\"></a></h3>\n<ul>\n<li>\"How many days between January 17 and February 14, 2026?\"</li>\n<li>\"How many Mondays are in January 2026?\"</li>\n<li>\"If I run every other day starting January 17, list my next 10 run dates.\"</li>\n</ul>\n<h3 id=\"category-5-edge-cases\">Category 5: Edge Cases<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#category-5-edge-cases\"></a></h3>\n<ul>\n<li>Month boundaries (\"What day is February 1 if January 31 is a Friday?\")</li>\n<li>Leap years (\"Is 2024 a leap year? What day is February 29, 2024?\")</li>\n<li>Year boundaries (\"If December 31, 2025 is Wednesday, what day is January 1, 2026?\")</li>\n</ul>\n<h2 id=\"interventions-to-test\">Interventions to Test<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interventions-to-test\"></a></h2>\n<h3 id=\"a-baseline\">A. Baseline<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-baseline\"></a></h3>\n<p>No date context. Just the question.</p>\n<h3 id=\"b-explicit-today-context\">B. Explicit Today Context<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#b-explicit-today-context\"></a></h3>\n<p>\"Today is Saturday, January 17, 2026.\"</p>\n<h3 id=\"c-calendar-context\">C. Calendar Context<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#c-calendar-context\"></a></h3>\n<p>\"Here is a calendar for January 2026:\nMon Tue Wed Thu Fri Sat Sun\n1   2   3   4   5\n6   7   8   9  10  11  12\n13  14  15  16  17  18  19\n20  21  22  23  24  25  26\n27  28  29  30  31\"</p>\n<h3 id=\"d-chain-of-thought-prompt\">D. Chain-of-Thought Prompt<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#d-chain-of-thought-prompt\"></a></h3>\n<p>\"Think step by step. First verify what day of the week the starting date is, then proceed.\"</p>\n<h3 id=\"e-tool-access\">E. Tool Access<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#e-tool-access\"></a></h3>\n<p>Give the model a get_day_of_week(date) tool and see if it uses it correctly.</p>\n<h3 id=\"f-few-shot-examples\">F. Few-Shot Examples<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#f-few-shot-examples\"></a></h3>\n<p>Provide 2-3 correct examples before the test question.</p>\n<h2 id=\"models-to-test\">Models to Test<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#models-to-test\"></a></h2>\n<ul>\n<li>Claude 3.5 Sonnet</li>\n<li>Claude 3 Opus</li>\n<li>GPT-4o</li>\n<li>GPT-4 Turbo</li>\n<li>Gemini 1.5 Pro</li>\n<li>Llama 3 70B</li>\n<li>Mistral Large</li>\n</ul>\n<h2 id=\"metrics\">Metrics<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#metrics\"></a></h2>\n<ul>\n<li><strong>Accuracy</strong>: % of correct day-of-week answers</li>\n<li><strong>Off-by-one rate</strong>: % of errors that are exactly ±1 day</li>\n<li><strong>Consistency</strong>: In planning tasks, do all day-date pairs match?</li>\n<li><strong>Intervention lift</strong>: How much does each intervention improve accuracy?</li>\n</ul>\n<h2 id=\"methodology\">Methodology<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#methodology\"></a></h2>\n<ol>\n<li>Generate test set (aim for 100-200 questions across categories)</li>\n<li>Run each question against each model with each intervention</li>\n<li>Parse responses, extract day/date claims</li>\n<li>Validate against ground truth (Python datetime)</li>\n<li>Categorize errors</li>\n<li>Statistical analysis of intervention effectiveness</li>\n</ol>\n<h2 id=\"output-format\">Output Format<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#output-format\"></a></h2>\n<p>Blog post or short paper:</p>\n<ol>\n<li>Introduction (the problem, why it matters)</li>\n<li>Related work (ToT, DATETIME, TIME)</li>\n<li>Methodology</li>\n<li>Results (tables, charts)</li>\n<li>Analysis (why do models fail? which interventions work?)</li>\n<li>Practical recommendations for developers</li>\n<li>Limitations and future work</li>\n</ol>\n<h2 id=\"practical-recommendations-hypotheses\">Practical Recommendations (hypotheses)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#practical-recommendations-hypotheses\"></a></h2>\n<p>Based on intuition, likely recommendations:</p>\n<ul>\n<li>Always include explicit \"Today is [day], [date]\" in system prompt</li>\n<li>For planning tasks, provide a calendar snippet</li>\n<li>Force CoT for multi-step date calculations</li>\n<li>Consider a simple date validation tool</li>\n</ul>\n<h2 id=\"timeline\">Timeline<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#timeline\"></a></h2>\n<p>Day 1:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Generate test set</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Set up evaluation harness</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Run baseline tests across models</li>\n</ul>\n<p>Day 2:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Run intervention tests</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Analyze results</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Write up findings</li>\n</ul>\n<h2 id=\"why-this-gets-attention\">Why This Gets Attention<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#why-this-gets-attention\"></a></h2>\n<ol>\n<li>Practical problem every AI app developer faces</li>\n<li>Actionable recommendations (not just \"models are bad\")</li>\n<li>Builds on ICLR 2025 paper (ToT) with new angle</li>\n<li>Clear, reproducible methodology</li>\n<li>Good visuals potential (error heatmaps, intervention comparisons)</li>\n</ol>\n<h2 id=\"why-this-gets-you-hired\">Why This Gets You Hired<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#why-this-gets-you-hired\"></a></h2>\n<ul>\n<li>Shows you understand LLM limitations deeply</li>\n<li>Demonstrates research methodology</li>\n<li>Practical engineering (building eval harness)</li>\n<li>Clear communication (blog post)</li>\n<li>Original contribution to the field</li>\n</ul>","noteIndex":{"id":"root","title":"Notes","desc":"","updated":1676546314176,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"a63bc749050c89d4e92bc7f1ce268820","links":[{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"history.laphams_quarterly.democracy.campaign_finance","position":{"start":{"line":13,"column":3,"offset":455},"end":{"line":13,"column":59,"offset":511},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"history.laphams_quarterly.democracy.campaign_finance"}},{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"engineering.being_a_mentor","position":{"start":{"line":14,"column":3,"offset":514},"end":{"line":14,"column":33,"offset":544},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"engineering.being_a_mentor"}},{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"history.china.dynasties","position":{"start":{"line":15,"column":3,"offset":547},"end":{"line":15,"column":30,"offset":574},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"history.china.dynasties"}},{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"history.india.indira_gandhi","position":{"start":{"line":16,"column":3,"offset":577},"end":{"line":16,"column":34,"offset":608},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"history.india.indira_gandhi"}},{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"books","alias":"here","position":{"start":{"line":18,"column":35,"offset":644},"end":{"line":18,"column":49,"offset":658},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"books"}},{"type":"wiki","from":{"fname":"root","id":"root","vaultName":"vault"},"value":"engineering.dendron","alias":"Dendron","position":{"start":{"line":20,"column":21,"offset":681},"end":{"line":20,"column":52,"offset":712},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"engineering.dendron"}}],"anchors":{},"children":["05zaQJMyCo5kYcUdfqHbU","3dca4f75-0a84-4596-8fd3-38f0adbef2b9","2fr0tv2ahut83b6g2w81mz0","596IGh04441uyLbbpkFT1","3j8u7RlelDYoffRQgMIYg","vwq8iGNrINwTnn2qz9cR1","J6qb2iUM2ZMqAYgQQELzQ","tbk0j8n293h69lwldtfsg3u","fSkjQcqYZTGdomGRSlszf","T4ea2dCnXXW7SbPu0BnwF","sfaxl8m0scx0iylroh2nt27","G9wFXoaipKfEf6FlKdHH0","qvk3fygz1m6ws2fji5retj1","8zcz6vwjqab27tqeygao1p7","7nAQ226q3pwfVvQ9KSV80","XLgWwAI1l8XFqJ55YDMXU","Y48aQXzL3qv0LWZAG5Kbz","njqts253mv1fp9o0jkcw1fe","ceddHaDRTozEjfGqQbeNi","9bn8iwfv72uv75ionw8ftql","qjsa2cqk7wwmsxkd63tqmzo","i137wds83cgyiqkpuorvrgh","nbajhp0d12thgwdtlxlo4s5","j9m60mwn8tah0puxr287hbz","awb5kxy7q19yk7564umdlz1","sxs92ymdmvudd9w9abdf2xm","maqyjfimzm1xlreqrnp0ubv","occnxujjcmph9kqq4dtx79g","0r968pvsf565fs54ac85ug0","0iug0cqfida2w3bw9r2y39x","71jowrrvmteaz6vmk3ljq0z","4rahpe1jwc8wf301wril41i","ooi7xp8hw96cr9v8eeg0qxn","100p65il8y0afy0ut38euym","ue8gju4jz5sa6s57r0qbkeq","4uelk0suzbfnl472i8zxi5p","56i0l7vo9k1enmfm627d4q1","52ertzgdog1o9jfdtga8vvt","0lisa2vcu9jh435u9gks8p5"],"parent":null,"data":{},"body":"\nHi! I'm Param! This is a place for my personal notes.\n\nMy website is https://param.codes, and I write more readable\nstuff on my substack: https://newsletter.param.codes.\n\nI've found that taking notes helps me remember things, and it's nice\nto look back on information that you processed years ago. I jot down random things, there's no real structure, but some of these\nnotes could eventually become blog posts.\n\nSome notes you might find interesting:\n\n- [[history.laphams_quarterly.democracy.campaign_finance]]\n- [[engineering.being_a_mentor]]\n- [[history.china.dynasties]]\n- [[history.india.indira_gandhi]]\n\nI also keep notes on books I read [[here|books]].\n\nThis is built using [[Dendron|engineering.dendron]] and hosted using\n[GitHub Pages](https://github.com/paramsingh/notes).\n\nGet in touch via [Twitter](https://twitter.com/iliekcomputers) or email me at `me [at] param [dot] codes`!\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"previewV2Enabled":false,"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.89.0","vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true,"enableHandlebarTemplates":true,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"/param/notes","description":"param's notes"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://notes.param.codes/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}